// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
//
// キャラランキング[charRanking.cpp]
// Author:Koki Nishiyama
//
// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
#include "charRanking.h"
#include "scene_two.h"

// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// 静的メンバー変数の初期化
// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
int CCharRanking::m_st_nCharTex[MAX_PLAYER] =	// テクスチャータイプ
{
	49,
	50,
	51,
	52
};
int CCharRanking::m_nRank[MAX_PLAYER] = {};

// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
//
// コンストラクタ
//
// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
CCharRanking::CCharRanking() : CScene()
{
	// 初期化
	for (int nCntPlayer = 0; nCntPlayer < MAX_PLAYER; nCntPlayer++)
	{
		m_aCharaPhoto[nCntPlayer] = NULL;
	}
}

// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
//
// デストラクタ
//
// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
CCharRanking::~CCharRanking()
{

}

// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// キャラランキングの初期化
// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
void CCharRanking::Init(void)
{
	// シーン2D生成
	m_aCharaPhoto[0] = CScene_TWO::Create(
		CScene_TWO::OFFSET_TYPE_CENTER,
		D3DXVECTOR3(370.0f, 260.0f, 0.0f),
		D3DXVECTOR2(500.0f, 250.0f)
	);
	m_aCharaPhoto[0]->BindTexture(CTexture_manager::GetTexture(m_st_nCharTex[m_nRank[0]]));
	m_aCharaPhoto[1] = CScene_TWO::Create(
		CScene_TWO::OFFSET_TYPE_CENTER,
		D3DXVECTOR3(950.0f, 260.0f, 0.0f),
		D3DXVECTOR2(500.0f, 250.0f)
	);
	m_aCharaPhoto[1]->BindTexture(CTexture_manager::GetTexture(m_st_nCharTex[m_nRank[1]]));
	m_aCharaPhoto[2] = CScene_TWO::Create(
		CScene_TWO::OFFSET_TYPE_CENTER,
		D3DXVECTOR3(370.0f, 550.0f, 0.0f),
		D3DXVECTOR2(500.0f, 250.0f)
	);
	m_aCharaPhoto[2]->BindTexture(CTexture_manager::GetTexture(m_st_nCharTex[m_nRank[2]]));
	m_aCharaPhoto[3] = CScene_TWO::Create(
		CScene_TWO::OFFSET_TYPE_CENTER,
		D3DXVECTOR3(950.0f, 550.0f, 0.0f),
		D3DXVECTOR2(500.0f, 250.0f)
	);
	m_aCharaPhoto[3]->BindTexture(CTexture_manager::GetTexture(m_st_nCharTex[m_nRank[3]]));
}

// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// キャラランキングの終了
// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
void CCharRanking::Uninit(void)
{
	// 終了
	for (int nCntPlayer = 0; nCntPlayer < MAX_PLAYER; nCntPlayer++)
	{
		m_aCharaPhoto[nCntPlayer] = NULL;
	}
}

// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// キャラランキングの更新
// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
void CCharRanking::Update(void)
{

}

// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// キャラランキングの描画
// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
void CCharRanking::Draw(void)
{

}

// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// キャラランキングの生成
// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
CCharRanking *CCharRanking::Create(void)
{
	// シーン動的に確保
	CCharRanking * pCharRanking = new CCharRanking();

	// シーン初期化
	pCharRanking->Init();

	return pCharRanking;
}

//=============================================================================
//
// 最終順位の設定
//
//=============================================================================
void CCharRanking::SetRank(int *nValue)
{
	for (int nCount = 0; nCount < MAX_PLAYER; nCount++)
	{
		m_nRank[nCount] = nValue[nCount];
	}
}