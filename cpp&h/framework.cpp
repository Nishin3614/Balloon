// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
//
// シーン処理の説明[framework.cpp]
// Author : Koki Nishiyama
//
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
//
// インクルードファイル
//
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
#include "framework.h"

// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
//
// 静的変数宣言
//
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// イニシャライザコンストラクタ
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
CFramework::CFramework() : CScene_TWO::CScene_TWO()
{
	m_bUse = false;
}

// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// デストラクタ処理
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
CFramework::~CFramework()
{

}

// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// 初期化処理
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
void CFramework::Init(void)
{
	CScene_TWO::Init();
	CScene_TWO::SetTexAnim(
		10,
		2,
		5
	);
}

// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// 終了処理
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
void CFramework::Uninit(void)
{
	CScene_TWO::Uninit();
}

// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// 更新処理
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
void CFramework::Update(void)
{
	CScene_TWO::Update();
}

// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// 描画処理
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
void CFramework::Draw(void)
{
	// 使用状態true
	if (m_bUse)
	{
		// 合成演算設定
		CManager::GetRenderer()->SetBlend(CRenderer::BLEND_ADD_TRANSLUCENT);
		// シーン2D描画処理
		CScene_TWO::Draw();
		// 普通描画設定
		CManager::GetRenderer()->SetBlend(CRenderer::BLEND_TRANSLUCENT);
	}
}

#ifdef _DEBUG
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// デバッグ表示
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
void CFramework::Debug(void)
{
	CScene_TWO::Debug();
}
#endif // _DEBUG

// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// 作成(シーン継承あり)処理
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
CFramework * CFramework::Create(void)
{
	// 変数宣言
	CFramework * pFramework;		// シーン2Dクラス
	// メモリの生成(初め->基本クラス,後->派生クラス)
	pFramework = new CFramework();
	// 設定
	// シーン管理設定
	pFramework->ManageSetting(CScene::LAYER_UI);
	pFramework->SetPosition(D3DXVECTOR3(SCREEN_WIDTH * 0.5f, SCREEN_HEIGHT * 0.5f, 0.0f));
	pFramework->SetSize(D3DXVECTOR2(SCREEN_WIDTH, SCREEN_HEIGHT));			// サイズ
	pFramework->SetCol(D3DXCOLOR(1.0f, 1.0f, 1.0f, 1.0f));			// カラー
	pFramework->BindTexture(CTexture_manager::GetTexture(63));
	// 初期化処理
	pFramework->Init();
	// 生成したオブジェクトを返す
	return pFramework;
}

// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// 作成(シーン継承なし)処理
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
CFramework * CFramework::Create_Self(void)
{
	// 変数宣言
	CFramework * pFramework;		// シーン2Dクラス
									// メモリの生成(初め->基本クラス,後->派生クラス)
	pFramework = new CFramework;
	// 設定
	pFramework->SetPosition(D3DXVECTOR3(SCREEN_WIDTH * 0.5f, SCREEN_HEIGHT * 0.5f, 0.0f));
	pFramework->SetSize(D3DXVECTOR2(SCREEN_WIDTH, SCREEN_HEIGHT));			// サイズ
	pFramework->SetCol(D3DXCOLOR(1.0f, 1.0f, 1.0f, 0.2f));			// カラー
																	// 初期化処理
	pFramework->Init();
	// 生成したオブジェクトを返す
	return pFramework;
}

// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// 作成(シーン継承なし、std::unique_ptr)処理
// ※戻り値はstd::moveで受け取る
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
std::unique_ptr<CFramework> CFramework::Creat_Unique(void)
{
	// 変数宣言
	std::unique_ptr<CFramework> pFramework(new CFramework);		// シーン2Dクラス
	// 設定
	pFramework->SetPosition(D3DXVECTOR3(SCREEN_WIDTH * 0.5f, SCREEN_HEIGHT * 0.5f, 0.0f));
	pFramework->SetSize(D3DXVECTOR2(SCREEN_WIDTH,SCREEN_HEIGHT));			// サイズ
	pFramework->SetCol(D3DXCOLOR(1.0f,1.0f,1.0f,0.2f));			// カラー
										// 初期化処理
	pFramework->Init();
	// 生成したオブジェクトを返す
	return pFramework;
}