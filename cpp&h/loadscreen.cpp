// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
//
// シーン処理の説明[loadscreen.cpp]
// Author : Koki Nishiyama
//
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
//
// インクルードファイル
//
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
#include "loadscreen.h"
#include "scene_two.h"

// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
//
// 静的変数宣言
//
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// イニシャライザコンストラクタ
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
CLoadScreen::CLoadScreen()
{
	for (int nCntScene = 0; nCntScene < 2; nCntScene++)
	{
		m_paScene_two[nCntScene] = NULL;
	}
}

// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// デストラクタ処理
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
CLoadScreen::~CLoadScreen()
{
}

// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// 初期化処理
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
void CLoadScreen::Init(void)
{
	for (int nCntScene = 0; nCntScene < 2; nCntScene++)
	{
		m_paScene_two[nCntScene] = CScene_TWO::Create_Self(
			CScene_TWO::OFFSET_TYPE_CENTER,
			D3DXVECTOR3(SCREEN_WIDTH * 0.5f, SCREEN_HEIGHT * 0.5f, 0.0f),
			D3DXVECTOR2(SCREEN_WIDTH * 0.5f, SCREEN_HEIGHT * 0.5f)
		);
		m_paScene_two[nCntScene]->BindTexture(CTexture_manager::GetTexture(66));
	}
}

// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// 終了処理
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
void CLoadScreen::Uninit(void)
{
	for (int nCntScene = 0; nCntScene < 2; nCntScene++)
	{
		m_paScene_two[nCntScene]->Uninit();
		delete m_paScene_two[nCntScene];
		m_paScene_two[nCntScene] = NULL;
	}
}

// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// 更新処理
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
void CLoadScreen::Update(void)
{
	for (int nCntScene = 0; nCntScene < 2; nCntScene++)
	{
		m_paScene_two[nCntScene]->Update();
	}
}

// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// 描画処理
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
void CLoadScreen::Draw(void)
{
	for (int nCntScene = 0; nCntScene < 2; nCntScene++)
	{
		m_paScene_two[nCntScene]->Draw();
	}
}

#ifdef _DEBUG
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// デバッグ表示
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
void CLoadScreen::Debug(void)
{
	for (int nCntScene = 0; nCntScene < 2; nCntScene++)
	{
		m_paScene_two[nCntScene]->Debug();
	}
}
#endif // _DEBUG

// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// 作成(シーン継承あり)処理
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
CLoadScreen * CLoadScreen::Create(void)
{
	// 変数宣言
	CLoadScreen * pLoadScreen;		// シーン2Dクラス
	// メモリの生成(初め->基本クラス,後->派生クラス)
	pLoadScreen = new CLoadScreen();
	// 初期化処理
	pLoadScreen->Init();
	// 生成したオブジェクトを返す
	return pLoadScreen;
}
/*
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// 作成(シーン継承なし、std::unique_ptr)処理
// ※戻り値はstd::moveで受け取る
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
std::unique_ptr<CLoadScreen> CLoadScreen::Creat_Unique(void)
{
	// 変数宣言
	std::unique_ptr<CLoadScreen> pLoadScreen(new CLoadScreen);		// シーン2Dクラス
										// 初期化処理
	pLoadScreen->Init();
	// 生成したオブジェクトを返す
	return pLoadScreen;
}
*/